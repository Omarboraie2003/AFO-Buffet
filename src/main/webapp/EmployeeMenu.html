<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFOEG - Food Menu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            overflow-x: hidden; /* stop horizontal scrolling */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 15px;  /* match Bootstrap default */
            padding-right: 15px;
        }



        body {
            font-family: 'Poppins', sans-serif, ;
            background-color: #DFDFDF;
            color: #333;
            line-height: 1.6;
        }


        /* Header */
        .header {
            background: #DFDFDF;
            padding: 20px 0; /* reduced for better alignment */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            font-size: 20px;
        }

        .logo {
            font-size: 20px;
            color: #333;
            font-weight: 600;
        }

        .nav-menu {
            flex-wrap: wrap; /* allow wrapping instead of pushing */
            gap: 20px;       /* safer than clamp(…) */
            font-family: 'Poppins', sans-serif;
            list-style: none;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: #050505;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: #ff6b35;
        }

        /* search icon*/
        /* Hero Section */
        .hero {
            background: #DFDFDF;
            padding: 7px 0;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1fr 2fr; /* text left, image+offer right */
            gap: 20px;
            align-items: center;
        }

        /* Hero Text */
        .hero-text h1 {
            font-family: 'Impact';
            font-size: clamp(2.0rem, 7vw, 5rem); /* shrink automatically */
            font-weight: bold;
            color: #ff6b35;
            line-height: 1.1;
            margin-bottom: 20px;
        }

        /* Hero Image Section */
        .hero-image {
            display: flex;
            gap: 10px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap; /* prevents overflow on small screens */
        }

        .hero-image img {
            max-height: 850px;
            height: auto;
            width: 100%;
            max-width: 550px;
            object-fit: contain;
        }

        /* Special Offer Box */
        .special-offer {
            background: #DFDFDF;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            height: auto; /* make height flexible */
        }

        .special-offer h3 {
            font-family: 'Impact';
            font-size: clamp(1.2rem, 4vw, 2.7rem);
            color: #333;
        }
        .explore-btn {
            background: white;
            border: 2px solid #ff6b35;
            color: black;
            padding: clamp(6px, 1.5vw, 15px) clamp(12px, 2vw, 28px);
            border-radius: 40px;
            font-weight: 500;
            border-color:#ff6b35;
            cursor: pointer;
            font-size: clamp(0.7rem, 1.6vw, 1.1rem);
            transition: background 0.3s;
        }

        .explore-btn:hover { background: #E96F28; }

        @media (max-width: 768px) {
            .hero-content {
                grid-template-columns: 1fr; /* stack on small screens */
                text-align: center;
            }

            .hero-image {
                justify-content: center;
                display: flex; /* makes image + offer align nicely */
                flex-direction: column;
                align-items: center; /* centers child elements */
            }

            .hero-text h1 {
                margin-bottom: 10px;
            }




        }
        /* Small screens */
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 20px; /* smaller */
            }

            .special-offer h3 {
                font-size: 14px;
            }

            .explore-btn {
                font-size: 6px;
                padding: 4px 10px;
            }
        }



        /* Nuggets Section */
        .nuggets-section {
            padding: 80px 0;
            background: #DFDFDF;
            overflow: hidden;
        }

        /* Nuggets text box */
        .nuggets-text {
            background: #ec8e58;
            padding: clamp(20px, 5vw, 65px);
            border-radius: clamp(20px, 8vw, 70px);
            font-family: 'Impact';
        }

        .nuggets-text h2 {
            font-size: clamp(22px, 5vw, 55px);
        }

        .order-btn {
            background: #ec8e58;
            border: 2px solid #000;
            padding: clamp(8px, 2vw, 12px) clamp(15px, 3vw, 25px);
            border-radius: 25px;
            font-weight: 500;
            font-size: clamp(12px, 2vw, 18px);
            cursor: pointer;
            transition: all 0.3s;
        }

        /* Image + text + arrows */
        .nuggets-image {
            position: relative;
            display: inline-block;
            transform: translateX(-35%);  /* adjust % until it looks good */

        }

        .nuggets-image img {
            max-width: 100%;
            border-radius: 20px;
        }

        /* Vertical text stays attached to image */
        .special-text {
            position: absolute;
            right: -50%;
            top: 40%;
            transform: rotate(90deg);
            font-size: clamp(18px, 6vw, 60px);
            font-family: 'Impact';
            color: #f26419;
            white-space: nowrap;
        }

        /* Arrows stay relative to the image */
        .nuggets-arrow1,
        .nuggets-arrow2 {
            position: absolute;
        }

        .nuggets-arrow1 {
            top: -10%;
            left: -5%;
        }

        .nuggets-arrow2 {
            top: 60%;
            right: -5%;
        }

        .nuggets-arrow1 img,
        .nuggets-arrow2 img {
            width: clamp(100px, 15vw, 350px);
            height: auto;
        }


        /* ✅ Adjust for small screens */
        @media (max-width: 425px) {
            .nuggets-arrow1 {
                top: -50%;   /* move arrow higher */
                left: -12%;   /* optional: shift more inward */
            }

            .nuggets-arrow2 {
                top: 45%;    /* move arrow higher */
                right: -8%;  /* optional: shift more inward */

            }
            .special-text {
                right: -70%;

            }

        }


        /* Categories Section */
        .categories {
            padding: 60px 0;
            text-align: center;
        }

        /* Section title */
        .section-title {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            color: #ff6b35;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        /* Heading */
        .categories h2 {
            font-family: 'Inter', sans-serif;
            font-weight: bold;
            font-size: 2rem;
            margin-bottom: 40px;
            color: #333;
        }

        /* Category item card */
        .category-item {
            text-align: center;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 20px;
            background: #EBEBEB;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%; /* make it fill column naturally */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .category-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        /* Category name */
        .category-item h3 {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            margin-top: 10px;
            color: #333;
        }

        /* Circle background for image */
        .category-image .image-bg {
            width: clamp(90px, 10vw, 130px);
            height: clamp(90px, 10vw, 130px);
            background: #ec8e58;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Category image inside */
        .category-image img {
            width: 80%;
            height: 80%;
            object-fit: contain;
            border-radius: 50%;
        }

        /* Special tweaks for different images */
        .category-image img[alt="Salads"] {
            width: 70%;
        }

        .category-image img[alt="Plates"] {
            width: 95%;
        }
        /* Shrink categories on large screens */
        @media (max-width: 768px) {
            .category-item {
                padding: 10px;              /* smaller padding */
                max-width: 120px;           /* shrink card width */
                margin: 0 auto;             /* center them */
            }

            .category-image .image-bg {
                width: 80px;               /* smaller circle */
                height: 80px;
            }

            .category-image img {
                width: 80%;                 /* shrink image inside circle */
                height: 80%;
            }

            .category-item h3 {
                font-size: 0.9rem;           /* shrink text */
            }
            /* Section title */
            .section-title {

                font-size: 0.6rem;

            }

            /* Heading */
            .categories h2 {

                font-size: 1.6rem;

            }
        }
        /* Shrink categories on large screens */
        @media (max-width: 320px) {
            .category-item {
                padding: 10px;              /* smaller padding */
                max-width: 120px;           /* shrink card width */
                margin: 0 auto;             /* center them */
            }

            .category-image .image-bg {
                width: 60px;               /* smaller circle */
                height: 60px;
            }

            .category-image img {
                width: 100%;                 /* shrink image inside circle */
                height: 100%;
            }

            .category-item h3 {
                font-size: 0.7rem;           /* shrink text */
            }
            /* Section title */
            .section-title {

                font-size: 0.4rem;

            }

            /* Heading */
            .categories h2 {

                font-size: 1.2rem;

            }
        }



        /* Menu Sections */
        .menu-section {
            padding: 60px 0;
        }

        .menu-header {

            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .menu-header h2 {
            font-family: 'Inter', sans-serif;
            font-weight: 600; /* Semi Bold */
            font-size: 2rem;
            color: #333;
        }

        .nav-arrows {
            display: flex;
            gap: 10px;
        }

        .nav-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-arrow {
            width: 40px;
            height: 40px;
            background: #ec8e58;
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
            font-size: 25px;
            transform: translateY(150px); /* Moving arrows down slightly */
        }

        .nav-arrow:hover {
            background: #d67a47;
        }
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }

        .menu-card {
            background: #EBEBEB;

            position: relative;
            width: 350px;         /* adjust width if needed */
            height: 380px;        /* increased height */
            border-radius: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;   /* centers horizontally */
            justify-content: space-between;
            text-align: center;
        }




        .menu-card:hover {
            transform: translateY(-5px);
        }

        .menu-card img {
            width: 230px;
            height: 213px;
            object-fit: cover;
        }
        .menu-card img[alt="falafel"] {
            width: 240px;
            height: 213px;
            object-fit: cover; /* keeps proportions and crops if needed */
        }

        .card-content {
            padding: 15px;
        }

        .card-content h3 {
            font-family: 'Inter', sans-serif;
            font-weight: 600; /* Semi Bold */
            font-size: 18px;  /* adjust size as needed */
            margin: 0 0 4px -10px; /* shift left by 20px */
            color: #333;
            text-align: left; /* aligns text to left */
        }


        .card-description {
            transform: translateX(-10px);
            font-family: 'Inter', sans-serif;
            font-weight: 600; /* Semi Bold */
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }



        .add-btn {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 55px;
            height: 45px;
            background: #ec8e58;
            border: none;
            border-radius: 0 0 0 25px;  /* rounded only bottom-left corner */
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.7rem;
        }
        .menu-grid {
            display: flex;
            gap: 20px;                   /* space between cards */
            overflow-x: auto;            /* scroll horizontally */
            scroll-behavior: smooth;
            padding-bottom: 10px;
            width: 100%;
        }


        html {
            scroll-behavior: smooth;
        }
        .categories h3 {
            text-decoration: none; /* removes underline */
            border: none;          /* removes any border under the text */
        }
        .category-item {
            text-decoration: none; /* remove underline from the whole link */
        }

        .category-item h3 {
            text-decoration: none;
        }


        .menu-grid::-webkit-scrollbar {
            height: 8px; /* Increased from 6px for better touch interaction */
        }

        .menu-grid::-webkit-scrollbar-track {
            background: rgba(241, 241, 241, 0.3); /* Made track more faded */
            border-radius: 2px; /* Made more rectangular (reduced from 10px) */
            margin: 0 5px; /* Adds margin to track for cleaner look */
        }

        .menu-grid::-webkit-scrollbar-thumb {
            background: rgba(136, 136, 136, 0.4); /* Made thumb more faded and removed gradient */
            border-radius: 2px; /* Made more rectangular (reduced from 10px) */
            border: none; /* Removed border for cleaner look */
            transition: all 0.3s ease;
            min-width: 30px; /* Ensures thumb is always grabbable */
        }

        .menu-grid::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 102, 102, 0.6); /* Made hover state more faded */
            transform: none; /* Removed scaling effect for simpler interaction */
            box-shadow: none; /* Removed shadow for cleaner look */
        }

        .menu-grid::-webkit-scrollbar-thumb:active {
            background: rgba(85, 85, 85, 0.7); /* Made active state more faded */
        }

        .nav-container:not(:hover) .menu-grid::-webkit-scrollbar {
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .nav-container:hover .menu-grid::-webkit-scrollbar {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .nav-container::after {
            content: "";
            position: absolute;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(136, 136, 136, 0.4)); /* Made scroll indicator more faded */
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .nav-container:hover::after {
            opacity: 0.6;
        }
        .popup-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .popup-overlay.active {
            display: flex;
        }
        .popup-content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
        }
        .popup-close {
            position: absolute;
            top: 10px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
        }


        /* Responsive Design */
        @media (max-width: 768px) {

            .hero-text h1 {
                font-size: 3.2rem;
            }

            .category-grid,
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .nav-menu {
                display: none;
            }
            .menu-header h2 {

                font-size: 1.6rem;

            }
            .menu-card img {
                width: 170px;
                height: 150px;
                object-fit: cover;
            }
            .menu-card {

                width: 250px;         /* adjust width if needed */
                height: 280px;        /* increased height */

            }

            .card-content h3 {

                font-size: 16px;  /* adjust size as needed */

            }


            .card-description {

                font-size: 0.7rem;

            }
            .add-btn {

            width: 45px;
            height: 35px;

            font-size: 1.2rem;
        }

        }


        /* Overlay */
        .popup-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6);
            display: none; /* stays hidden until JS shows it */
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        /* Popup container */
        .popup-content {
            background: #fff;
            border-radius: 12px;
            max-width: 900px;
            width: 90%;
            padding: 30px;
            position: relative;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            font-family: Arial, sans-serif;
            animation: fadeIn 0.3s ease;
        }

        /* Close button */
        .popup-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #eee;
            border: none;
            font-size: 18px;
            cursor: pointer;
        }

        /* Layout */
        .main-content {
            display: flex;
            gap: 30px;
        }
        .product-image img {
            max-width: 280px;
            border-radius: 8px;
            object-fit: cover;
        }

        /* Details */
        .product-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        /* Bread options */
        .bread-section {
            margin: 20px 0;
        }
        .bread-title {
            font-weight: 600;
            margin-bottom: 8px;
        }
        .bread-options {
            display: flex;
            gap: 15px;
        }
        .bread-option label {
            margin-left: 5px;
        }

        /* Description */
        .product-description {
            margin: 15px 0;
            color: #444;
        }

        /* Notes */
        .order-notes-title {
            font-weight: 600;
            margin: 15px 0 5px;
        }
        .notes-input {
            width: 100%;
            max-width: 400px;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Order button */
        .order-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 14px 30px;
            background: #ff6b35;
            color: white;

            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .order-btn:hover {
            background: #e85a2c;
        }
        .description-label {
            color: #666;
            font-size: 14px;
        }

        .cart-count {
            position: absolute;
            top: -20px;       /* move above the icon */
            right: 35px;    /* move slightly to the right */
            color: #ff6b35;
            font-size: 14px;
            font-weight: bold;
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 20px;
            border-radius: 50%;
        }
        /* Small screens adjustments */
        @media (max-width: 576px) {
            .header {
                font-size: 12px; /* shrink overall text */
                padding: 8px 0;
            }

            .logo {
                font-size: 12px;
            }

            .nav-menu {
                gap: 0px;       /* smaller gaps */
                font-size: 10px; /* smaller nav links */
            }

            .nav-menu a {
                padding: 2px 4px; /* shrink clickable area */
            }
            .cart-count {
                top: -10px;         /* closer to cart icon */
                right: 25px;        /* tighter spacing */
                font-size: 8px;    /* smaller font */
                width: 12px;        /* smaller circle */
                height: 14px;
                line-height: 14px;  /* keep text centered */
            }
        }

        #cart-link {
            position: relative; /* make it the reference for the badge */
        }

        /* Small screens */
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 20px; /* smaller */
            }

            .special-offer h3 {
                font-size: 14px;
            }

            .explore-btn {
                font-size: 6px;
                padding: 4px 10px;
            }
        }
   /* Tablet and below */
        @media (max-width: 320px) {
            .menu-grid {
                gap: 15px;
            }


            .menu-header h2 {

                font-size: 1.2rem;
             }
            .menu-card img {
                width: 50px;
                height: 50px;
                object-fit: cover;
            }
            .menu-card {

                width: 160px;         /* adjust width if needed */
                height: 120px;        /* increased height */

            }

            .card-content h3 {

                font-size: 8px;  /* adjust size as needed */
             }
             .card-content {
                padding: 0px;
                 margin-top:5px;
             }


            .card-description {

                font-size: 0.3rem;

            }
               .description-label {
            font-size: 10px;
        }



            .add-btn {

            width: 30px;
            height: 25px;

            font-size: 1.0rem;
        }

        .nav-arrow {
            width: 20px;
            height: 20px;

            font-size: 15px;
            transform: translateY(60px); /* Moving arrows down slightly */
        }
   .product-image img {
            max-width: 100px;

        }

        /* Details */
        .product-title {
            font-size: 16px;
            font-weight: 400;
        }

        /* Bread options */
        .bread-section {
            margin: 5px 0;
        }
        .bread-title {
        font-size:8px;
            font-weight: 300;
        }



        /* Notes */
        .order-notes-title {
            font-size: 8px;
        }
        .notes-input {
            width: 100%;
            max-width: 200px;

            font-size: 10px;
        }
  .popup-content {

            max-width: 800px;

        }
  .main-content {
            gap: 0px;
        }

         .product-description {
           font-size:9px;
        }
           /* Order button */
        .order-btn {
            margin-top: 0px;
            padding: 6px 8px;

        }
          .bread-option label {
          font-size:8px;
        }

        }



        /* Make row scrollable horizontally on small screens */

    </style>
</head>
<body>

<header class="header">
    <div class="container">
        <div class="row align-items-center">

            <!-- Logo -->
            <div class="col-4 col-md-2 text-start">
                <div class="logo">AFOEG</div>
            </div>

            <!-- Nav Menu -->
            <div class="col-8 col-md-10">
                <ul class="nav-menu d-flex flex-row justify-content-end align-items-center m-0 p-0 flex-wrap">
                    <li><a href="#" class="active">Home</a></li>
                    <li><a href="#categories">Menu</a></li>
                    <li><a href="#">History</a></li>
                    <li>
                        <a href="Cart.html" id="cart-link">
                            🛒 Cart <span id="cart-count" class="cart-count">0</span>
                        </a>
                    </li>
                </ul>
            </div>

        </div>
    </div>
</header>





<!-- Hero Section -->
<section class="hero py-5">
    <div class="container">
        <div class="row align-items-center flex-nowrap">

            <!-- Hero Text -->
            <div class="col-4 hero-text text-start">
                <h1>
                    BAKING<br>
                    HAPPINESS<br>
                    FOR EVERY<br>
                    HEART
                </h1>
            </div>

            <!-- Hero Image -->
            <div class="col-4 hero-image text-center">
                <img src="Images/mixed-vegetable-salad-with-white-cheese.png"
                     alt="Fresh Salad" class="img-fluid">
            </div>



            <!-- Special Offer -->
            <div class="col-4 text-center">
                <div class="special-offer">
                    <h3>TODAY'S SPECIAL<br>BOOM!</h3>
                    <button class="explore-btn">Explore</button>
                </div>
            </div>

        </div>
    </div>
</section>


<!-- Special Dish Section -->
<section class="nuggets-section" id="nuggets">
    <div class="container">
        <div class="row align-items-center justify-content-center">

            <!-- Nuggets Text -->
            <div class="col-6 nuggets-text text-start">
                <h2 id="special-dish-title">Loading...</h2>
                <button class="order-btn" id="order-btn">Order now</button>
            </div>

            <!-- Nuggets Image + Vertical Text + Arrows -->
            <div class="col-6 d-flex justify-content-start">
                <div class="nuggets-image position-relative d-inline-block">
                    <img id="special-dish-image" src="Images/falafel.png" alt="Special Dish" class="img-fluid">

                    <!-- Vertical text -->
                    <p class="special-text">Today's special</p>

                    <!-- Arrows -->
                    <div class="nuggets-arrow1">
                        <img src="Images/image1.png" alt="arrow1" class="img-fluid">
                    </div>
                    <div class="nuggets-arrow2">
                        <img src="Images/image2.png" alt="arrow2" class="img-fluid">
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>





<!-- Categories Section -->
<section id="categories" class="categories py-5">
    <div class="container text-center">

        <!-- Section Title -->
        <div class="section-title">Customer Favorites</div>
        <h2>Popular Categories</h2>

        <!-- Category Grid -->
        <div class="row justify-content-center align-items-center g-4">

            <!-- Category Item -->
            <div class="col-4 col-md-2">
                <a href="#breakfast" class="category-item d-block text-center">
                    <div class="category-image mx-auto">
                        <div class="image-bg">
                            <img src="Images/Breakfast.png" alt="Breakfast" class="img-fluid">
                        </div>
                    </div>
                    <h3>Breakfast</h3>
                </a>
            </div>

            <div class="col-4 col-md-2">
                <a href="#sandwiches" class="category-item d-block text-center">
                    <div class="category-image mx-auto">
                        <div class="image-bg">
                            <img src="Images/Sandwich.png" alt="Sandwiches" class="img-fluid">
                        </div>
                    </div>
                    <h3>Sandwiches</h3>
                </a>
            </div>

            <div class="col-4 col-md-2">
                <a href="#salads" class="category-item d-block text-center">
                    <div class="category-image mx-auto">
                        <div class="image-bg">
                            <img src="Images/Salads.png" alt="Salads" class="img-fluid">
                        </div>
                    </div>
                    <h3>Salads</h3>
                </a>
            </div>

            <div class="col-4 col-md-2">
                <a href="#plates" class="category-item d-block text-center">
                    <div class="category-image mx-auto">
                        <div class="image-bg">
                            <img src="Images/Plates.png" alt="Plates" class="img-fluid">
                        </div>
                    </div>
                    <h3>Plates</h3>
                </a>
            </div>

            <div class="col-4 col-md-2">
                <a href="#extras" class="category-item d-block text-center">
                    <div class="category-image mx-auto">
                        <div class="image-bg">
                            <img src="Images/Extras.png" alt="Extras" class="img-fluid">
                        </div>
                    </div>
                    <h3>Extras</h3>
                </a>
            </div>

        </div>
    </div>
</section>

    <!-- Breakfast Section -->
    <section id="breakfast" class="menu-section">
        <div class="container">
            <div class="section-title"> Breakfast</div>
            <div class="menu-header">
                <h2>Breakfast Dishes<br>From Our Menu</h2>

            </div>
            <div class="nav-arrows">

                <button class="nav-arrow nav-arrow-left" onclick="scrollMenu(this, 'left')">‹</button>
                <div class="menu-grid">
                    <!-- Your menu items will be loaded here dynamically -->
                </div>
                <button class="nav-arrow nav-arrow-right" onclick="scrollMenu(this, 'right')">›</button>
            </div>

        </div>
    </section>

    <!-- Sandwiches Section -->
    <section id="sandwiches" class="menu-section">
        <div class="container">
            <div class="section-title">Special Sandwiches</div>
            <div class="menu-header">
                <h2>Sandwiches<br>From Our Menu</h2>

            </div>
            <div class="nav-arrows">
                <button class="nav-arrow nav-arrow-left" onclick="scrollMenu(this, 'left')">‹</button>
                <div class="menu-grid">
                    <!-- Your menu items will be loaded here dynamically -->
                </div>
                <button class="nav-arrow nav-arrow-right" onclick="scrollMenu(this, 'right')">›</button>
            </div>

        </div>

    </section>

    <!-- Salads Section -->
    <section id="salads" class="menu-section">
        <div class="container">
            <div class="section-title">Special Salads</div>
            <div class="menu-header">
                <h2>Salad Dishes<br>From Our Menu</h2>

            </div>
            <div class="nav-arrows">
                <button class="nav-arrow nav-arrow-left" onclick="scrollMenu(this, 'left')">‹</button>
                <div class="menu-grid">
                    <!-- Your menu items will be loaded here dynamically -->
                </div>
                <button class="nav-arrow nav-arrow-right" onclick="scrollMenu(this, 'right')">›</button>
            </div>

        </div>

    </section>

    <!-- Plates Section -->
    <section id="plates" class="menu-section">
        <div class="container">
            <div class="section-title">Plates</div>
            <div class="menu-header">
                <h2>Plates <br>From Our Menu</h2>

            </div>
            <div class="nav-arrows">
                <button class="nav-arrow nav-arrow-left" onclick="scrollMenu(this, 'left')">‹</button>
                <div class="menu-grid">
                    <!-- Your menu items will be loaded here dynamically -->
                </div>
                <button class="nav-arrow nav-arrow-right" onclick="scrollMenu(this, 'right')">›</button>
            </div>

        </div>

    </section>

    <!-- Extras Section -->
    <section id="extras" class="menu-section">
        <div class="container">
            <div class="section-title">Extras</div>
            <div class="menu-header">
                <h2>Extras <br>From Our Menu</h2>

            </div>
            <div class="nav-arrows">
                <button class="nav-arrow nav-arrow-left" onclick="scrollMenu(this, 'left')">‹</button>
                <div class="menu-grid">
                    <!-- Your menu items will be loaded here dynamically -->
                </div>
                <button class="nav-arrow nav-arrow-right" onclick="scrollMenu(this, 'right')">›</button>
            </div>

        </div>

    </section>
<!-- Popup Modal -->
<div class="popup-overlay" id="itemPopup">
    <div class="popup-content">
        <!-- Close button -->
        <button class="popup-close" onclick="closeItemPopup()">×</button>

        <main class="main-content">
            <!-- Product Image -->
            <div class="product-image">
                <img id="popupProductImage" src="" alt="Product Image">
            </div>

            <!-- Product Details -->
            <div class="product-details">
                <!-- Title -->
                <h1 class="product-title" id="popupProductTitle"></h1>



                <!-- Description -->
                <p class="description-label">Description of the item:</p>
                <p class="product-description" id="popupProductDescription">
                    <!-- JS will fill this -->
                </p>

                <!-- Bread Section (only for sandwiches) -->
                <div class="bread-section" id="popupBreadSection" style="display:none;">
                    <div class="bread-title">Bread :</div>
                    <div class="bread-options">
                        <div class="bread-option">
                            <input type="radio" id="eish" name="bread" value="eish">
                            <label for="eish">eish baladi</label>
                        </div>
                        <div class="bread-option">
                            <input type="radio" id="toast" name="bread" value="toast" checked>
                            <label for="toast">toast</label>
                        </div>
                        <div class="bread-option">
                            <input type="radio" id="tortilla" name="bread" value="tortilla">
                            <label for="tortilla">tortilla</label>
                        </div>
                    </div>

                </div>
                <!-- Quantity Section -->
                <div class="bread-section" id="popupQuantitySection" style="display:none;">
                    <div class="bread-title">Quantity :</div>
                    <div class="bread-options">
                        <div class="bread-option">
                            <input type="radio" id="half" name="quantity" value="half">
                            <label for="half">half</label>
                        </div>
                        <div class="bread-option">
                            <input type="radio" id="one" name="quantity" value="one" checked>
                            <label for="one">one</label>
                        </div>
                    </div>
                </div>

                <!-- Order Notes -->
                <div class="order-notes">
                    <div class="order-notes-title">Order Notes:</div>
                    <textarea class="notes-input" placeholder="Type here"></textarea>
                </div>

                <!-- Order Button -->
                <button class="order-btn" id="popupOrderBtn">Order now</button>
            </div>
        </main>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<script>

    function setupNavigation() {
        // Find all sections
        document.querySelectorAll(".menu-section").forEach(section => {
            const menuGrid = section.querySelector(".menu-grid");
            const prevBtn = section.querySelector(".nav-arrow.nav-arrow-left");
            const nextBtn = section.querySelector(".nav-arrow.nav-arrow-right");

            if (menuGrid && prevBtn && nextBtn) {
                const firstCard = menuGrid.querySelector(".menu-card");
                const cardWidth = firstCard ? firstCard.offsetWidth + 20 : 250;

                prevBtn.addEventListener("click", () => {
                    menuGrid.scrollBy({ left: -cardWidth, behavior: "smooth" });
                });

                nextBtn.addEventListener("click", () => {
                    menuGrid.scrollBy({ left: cardWidth, behavior: "smooth" });
                });
            }
        });


        // Smooth scroll to nuggets section when clicking Explore
        const exploreBtn = document.querySelector(".explore-btn");
        const nuggetsSection = document.querySelector("#nuggets");

        if (exploreBtn && nuggetsSection) {
            exploreBtn.addEventListener("click", () => {
                const yOffset = -120; // 👈 adjust this number (negative = stop earlier)
                const y = nuggetsSection.getBoundingClientRect().top + window.pageYOffset + yOffset;

                window.scrollTo({ top: y, behavior: "smooth" });
            });
        }
    }

    // Run setup after DOM is ready

    async function loadCategory(item_category) {
        try {
            // Call the servlet with category parameter
            const res = await fetch(`/AllForOneBuffetAPP/menu?item_category=${item_category}`)
            if (!res.ok) {
                throw new Error("Servlet response error: " + res.status)
            }
            const items = await res.json()
            const section = document.getElementById(item_category)
            if (!section) {
                console.error("No section found for category:", item_category)
                return
            }
            const grid = section.querySelector(".menu-grid")
            if (!grid) {
                console.error("No grid found in section for category:", item_category)
                return
            }
            grid.innerHTML = "" // Clear existing hardcoded items
            if (!items || items.length === 0) {
                console.log("No items found for category:", item_category)
                return
            }
            items.forEach((item) => {
                const card = document.createElement("div");
                card.className = "menu-card";

                let imageSrc = "";

                if (item.photo_url && item.photo_url !== null) {
                    imageSrc = `Images/${item.photo_url}`;
                }

                card.innerHTML = `
    <button class="add-btn">+</button>
    <img src="${imageSrc}" alt="${item.item_name}">
    <div class="card-content">
      <h3>${item.item_name}</h3>
      <div class="card-footer">
              <p class="card-description">${item.item_description || "Description of the item"}</p>

      </div>
    </div>
  `;

                // ✅ Click opens popup with details
                card.addEventListener("click", () => openItemPopup(item));

                grid.appendChild(card);
            });

            console.log(`Successfully loaded ${items.length} items for ${item_category}`)
        } catch (err) {
            console.error("Error loading category:", item_category, err)
        }
    }
    function openItemPopup(item) {
        document.getElementById("popupProductTitle").textContent = item.item_name;

        document.getElementById("popupProductImage").src =`Images/${item.photo_url}`;


        document.getElementById("popupProductImage").alt = item.item_name;
        document.getElementById("popupProductDescription").textContent = item.item_description || "No description available.";

        if ( item.item_category === "Sandwiches") {
            document.getElementById("popupBreadSection").style.display = "block";
            document.getElementById("popupQuantitySection").style.display = "block";

        } else {
            document.getElementById("popupBreadSection").style.display = "none";
        }

        document.getElementById("itemPopup").classList.add("active");
        document.body.style.overflow = "hidden";
        const orderBtn = document.getElementById("popupOrderBtn");
        orderBtn.onclick = () => addToCart(item);

    }


    function closeItemPopup() {
        document.getElementById("itemPopup").classList.remove("active");
        document.body.style.overflow = "auto";
    }


    async function loadSpecialDish() {
        try {
            const res = await fetch("/AllForOneBuffetAPP/menu?is_special=true");
            if (!res.ok) throw new Error("Servlet response error: " + res.status);

            const special = await res.json(); // single dish
            console.log("Raw special response:", special);

            if (!special) {
                console.warn("No special dish found");
                return;
            }

            const titleEl = document.getElementById("special-dish-title");
            const imgEl = document.getElementById("special-dish-image");
            const orderBtn = document.getElementById("order-btn");


            if (titleEl) titleEl.textContent = special.item_name;
            if (imgEl) {
                imgEl.src = `Images/${special.photo_url || "falafel.png"}`;
                imgEl.alt = special.item_name;
            }
            // 🔹 Attach addToCart for the special dish
            if (orderBtn) {
                orderBtn.onclick = () => addToCart(special);
            }

            console.log("Today's special loaded:", special.item_name);

        } catch (err) {
            console.error("Error loading today's special:", err);
        }
    }
    window.addEventListener("DOMContentLoaded", loadSpecialDish);


    document.addEventListener("DOMContentLoaded", loadSpecialDish);

    async function addToCart(item) {
        try {
            const payload = new URLSearchParams();
            payload.append("itemId", item.item_id);

            const type_of_bread = document.querySelector('input[name="bread"]:checked');
            const quantity = document.querySelector('input[name="quantity"]:checked');
            const note = document.querySelector(".notes-input").value.trim();

            console.log("Adding to cart:", {
                item_id: item.item_id,
                type_of_bread: type_of_bread ? type_of_bread.value : "N/A",
                quantity: quantity ? quantity.value : "one",
                note: note
            });

            payload.append("type_of_bread", type_of_bread ? type_of_bread.value : null);
            payload.append("quantity", quantity ? quantity.value : "one");
            payload.append("item_note", note ? note : null);

            const res = await fetch("/AllForOneBuffetAPP/manage_cart", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: payload.toString()
            });

            const data = await res.json();
            console.log("🔎 Response from server:", data);

            if (data.success) {  // 🔑 notice order_status
                console.log("Item added to cart:", data);
                const countEl = document.getElementById("cart-count");
                countEl.textContent = parseInt(countEl.textContent) + 1;
                closeItemPopup();
                updateCartCount();
            } else {
                alert("Failed to add item: " + data.message);
            }
        } catch (err) {
            console.error("Error adding to cart:", err);
        }
    }

    document.addEventListener("DOMContentLoaded", () => {
        updateCartCount();
    });

    // Function to fetch cart items and update the count
    async function updateCartCount() {
        // fetch('/AllForOneBuffetAPP/addToCart') // or your endpoint that returns cart items
        //     .then(res => res.json())
        //     .then(data => {
        //         const countEl = document.getElementById("cart-count");
        //         if (data.success && data.items) {
        //             // Set cart count to number of items in the array
        //             countEl.textContent = data.items.length;
        //         } else {
        //             countEl.textContent = 0;
        //         }
        //     })
        //     .catch(err => {
        //         console.error("Failed to fetch cart items:", err);
        //         document.getElementById("cart-count").textContent = 0;
        //     });

        try {
            const res = await fetch("/AllForOneBuffetAPP/manage_cart", {
                method: "GET",
                headers: { "Content-Type": "application/json" }
            });

            const data = await res.json();
            console.log("Fetched cart data:", data);

            if (data.success && Array.isArray(data.data)) {
                document.getElementById("cart-count").textContent = data.data.length;
            } else {
                console.warn("No items in cart or failed to fetch", data.message);
                document.getElementById("cart-count").textContent = 0;
            }
        } catch (err) {
            console.error("Failed to fetch cart items:", err);
            document.getElementById("cart-count").textContent = 0;
        }
    }

    function initializeMenu() {
        console.log("Initializing dynamic menu...");

        // Load today's special
        loadSpecialDish();

        // Load all categories
        loadCategory("breakfast");
        loadCategory("sandwiches");
        loadCategory("salads");
        loadCategory("plates");
        loadCategory("extras");

        setTimeout(setupNavigation, 100); // Ensure DOM updated
    }
    if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initializeMenu)
    } else {
        initializeMenu()
    }

</script>

